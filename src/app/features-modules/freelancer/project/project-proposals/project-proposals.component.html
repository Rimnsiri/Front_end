<!-- Page Content -->
<div class="page-header">
  <div class="row">
    <div class="col">
      <h3 class="page-title">Mon CV</h3>
      <ul class="breadcrumb">
        <li class="breadcrumb-item">
          <a [routerLink]="'/freelancer/dashboards'">Home</a>
        </li>
        <li class="breadcrumb-item active">Mon CV</li>
      </ul>
    </div>
  </div>
</div>
<!-- Proposals list -->
<div class="proposals-section">
  <!-- Proposals -->
  <div class="field-item personal-info space-info">
   
  
    <form [formGroup]="cvForm" (ngSubmit)="submitCV()">
      <div class="row">
        <div class="col-md-6 col-lg-6">
          <div class="input-block">
            <label for="first-name" class="form-label">Titre Cv</label>
            <input
              type="text"
              formControlName="title"
              class="form-control"
              id="title"
              required
            />
          </div>
        </div>
        <div class="col-md-6 col-lg-6">
          <div class="input-block">
            <label for="phone-number" class="form-label">Tjm</label>
            <input
              type="number"
              formControlName="tjm"
              class="form-control"
              id="tjm"
              required
            />
          </div>
        </div>
        <div class="col-md-6 col-lg-6">
          <div class="mb-3">
            <label for="level" class="form-label">Niveau</label>
            <select formControlName="niveau" class="form-control" id="niveau">
              <option value="">Sélectionnez un niveau</option>
              <option value="Débutant">Débutant</option>
              <option value="Sénior">Sénior</option>
              <option value="Expert">Expert</option>
            </select>
          </div>
        </div>
        <div class="col-md-6 col-lg-6">
          <div class="mb-3">
            <label for="french_level" class="form-label"
              >Niveau de francais</label
            >
            <select class="form-control" id="french_level" formControlName="french_level">
              <option value="">Sélectionnez un niveau</option>
              <option value="N1">N1 - Débutant</option>
              <option value="N2">N2 - Élémentaire</option>
              <option value="N3">N3 - Intermédiaire</option>
              <option value="N4">N4 - Intermédiaire supérieur</option>
              <option value="N5">N5 - Avancé</option>
            </select>
          </div>
        </div>
        <div class="col-md-6 col-lg-6">
          <div class="mb-3">
            <label for="english_level" class="form-label">Niveau d'anglais</label>
            <select class="form-control" id="english_level" formControlName="english_level">
              <option value="">Sélectionnez un niveau</option>
              <option value="N1">N1 - Débutant</option>
              <option value="N2">N2 - Élémentaire</option>
              <option value="N3">N3 - Intermédiaire</option>
              <option value="N4">N4 - Intermédiaire supérieur</option>
              <option value="N5">N5 - Avancé</option>
            </select>
          </div>
        </div>
  
        <div class="col-md-12">
          <div class="input-block min-characters">
            <label for="intro" class="form-label">Description</label>
  
            <textarea
              formControlName="description"
              class="form-control"
              rows="3"
            ></textarea>
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-12">
          <h4>Compétences</h4>
          <div formArrayName="skills">
            <div
              *ngFor="let skill of skills.controls; let i = index"
              [formGroupName]="i"
            >
              <div class="form-group row">
                <div class="col-md-3">
                  <label for="newSkillName">Compétence</label>
                  <select class="form-control" formControlName="newSkillName">
                    <option value="">Sélectionnez une compétence</option>
                    <option
                      *ngFor="let skillItem of skillsList"
                      [value]="skillItem.id"
                    >
                      {{ skillItem.name }}
                    </option>
                  </select>
                </div>
                <div class="col-md-3">
                  <label for="newSkillNbrMonth">Nombre de Mois</label>
                  <input
                    type="number"
                    class="form-control"
                    formControlName="newSkillNbrMonth"
                  />
                </div>
                <div class="col-md-3">
                  <label for="newSkillIsPrincipal">Principal</label>
                  <input
                    type="checkbox"
                    class="form-check-input"
                    formControlName="newSkillIsPrincipal"
                  />
                </div>
                <div class="col-md-3">
                  <div class="new-addd">
                    <a class="remove_row" 
                    (click)="removeSkills(i)">
                    Retirer
                  </a>
                  </div>
                  
                </div>
              </div>
            </div>
            <div class="new-addd">
              <a type="button" 
              class="add-new" 
              (click)="addSkills()">
              <i class="feather icon-plus-circle me-1"></i> Ajouter une compétence
            </a>
            </div>
           
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-12">
          <h4>Éducation</h4>
          <div formArrayName="educations">
            <div
              *ngFor="let education of educations.controls; let i = index"
              [formGroupName]="i"
            >
              <div class="form-group row">
                <div class="col-md-3">
                  <label>Diplôme</label>
                  <input
                    type="text"
                    class="form-control"
                    formControlName="diplome"
                  />
                </div>
                <div class="col-md-3">
                  <label>Université</label>
                  <input
                    type="text"
                    class="form-control"
                    formControlName="école"
                  />
                  <!-- Remarquez 'ecole' sans accent dans le formControlName -->
                </div>
                <div class="col-md-3">
                  <label>Date de début</label>
                  <input
                    type="date"
                    class="form-control"
                    formControlName="startdate"
                  />
                </div>
                <div class="col-md-3">
                  <label>Date de fin</label>
                  <input
                    type="date"
                    class="form-control"
                    formControlName="enddate"
                  />
                </div>
                <div class="col-md-12">
                  <label>Description</label>
                  <textarea
                    class="form-control"
                    formControlName="description"
                  ></textarea>
                </div>
                <div class="col-md-12">
                  <div class="new-addd">
                    <a
                    type="button"
                    class="remove_row"
                    (click)="removeEducation(i)"
                  >
                  Retirer
                  </a>
                  </div>
                 
                </div>
              </div>
            </div>
          </div>
          <div class="new-addd">
            <a type="button" class="add-new"
             (click)="addEducation()">
              <i class="feather icon-plus-circle me-1"></i>
               Ajouter une éducation
            </a>
          </div>
          
        </div>
      </div>

      <div class="row">
        <div class="col-12">
          <h4>Experience</h4>
          <div formArrayName="experiences">
            <div
              *ngFor="let experience of experiences.controls; let i = index"
              [formGroupName]="i"
            >
              <div class="form-group row">
                <div class="col-md-3">
                  <label for="title">Title</label>
                  <input
                    type="text"
                    class="form-control"
                    formControlName="title"
                  />
                </div>
                <div class="col-md-3">
                  <label for="entreprisename">Company Name</label>
                  <input
                    type="text"
                    class="form-control"
                    formControlName="entreprisename"
                  />
                </div>
                <div class="col-md-3">
                  <label for="startDate">Start Date</label>
                  <input
                    type="date"
                    class="form-control"
                    formControlName="startdate"
                  />
                </div>
                <div class="col-md-3">
                  <label for="endDate">End Date</label>
                  <input
                    type="date"
                    class="form-control"
                    formControlName="enddate"
                  />
                </div>
                <div class="col-md-12">
                  <label for="description">Description</label>
                  <textarea
                    class="form-control"
                    formControlName="description"
                  ></textarea>
                </div>
                <div class="col-md-12">
                  <div class="new-addd">
                    <a
                    type="button"
                    class="remove_row"
                    (click)="removeExperience(i)"
                  >
                  Retirer
                  </a>
                  </div>
                 
                </div>
              </div>
            </div>
            <div class="new-addd">
              <a
              type="button"
              class="add-new"
              (click)="addExperience()"
            >
            <i class="feather icon-plus-circle me-1"></i> Ajouter une expérience
            </a>
            </div>
           
          </div>
        </div>
      </div>

      <div class="col-md-12 text-right mt-7">
        <button type="submit" class="btn btn-primary mt-7 w-100 btn-lg login-btn d-flex align-items-center justify-content-center">Créer mon Cv</button>
      </div>
    </form>
    <div *ngIf="showAlert" [ngClass]="{'custom-alert': true, 'error': isError}">
      {{ alertMessage }}
    </div>
    
  </div>
  
</div>
